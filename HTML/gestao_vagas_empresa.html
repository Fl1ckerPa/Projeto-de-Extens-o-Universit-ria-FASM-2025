<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Gestão de Vagas - Empresa</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css"
      rel="stylesheet"
    />
    <link href="../CSS/gestao_vagas_empresa.css" rel="stylesheet" />
  </head>
  <header>
    <!-- Inicio Barra De Navegação Desktop -->
    <nav class="d-none d-md-block p-3 bg-azulPrimario">
      <div class="container">
        <div
          class="d-flex flex-wrap align-items-center justify-content-center justify-content-lg-start"
        >
          <a
            href="index.html"
            class="d-flex align-items-center mb-2 mb-lg-0 text-white text-decoration-none"
          >
            <img
              src="../IMG/logo_descubra_short.png"
              alt="Logo Descubra Muriaé"
              width="40"
              height="40"
              class="g-3"
            />
          </a>
          <ul class="nav col-12 col-lg-auto me-lg-auto mb-2 justify-content-center mb-md-0">
            <li class="d-none"><a href="#" class="nav-link px-2 text-secondary">Home</a></li>
            <li><a href="buscar_vagas.html" class="nav-link px-2 text-white">Vagas</a></li>
            <li><a href="sobre_nos.html" class="nav-link px-2 text-white">Sobre Nós</a></li>
          </ul>
          <form class="col-12 col-lg-auto mb-3 mb-lg-0 me-lg-3" role="search">
            <input
              type="search"
              class="form-control form-control-dark text-bg-light"
              placeholder="Pesquisar..."
              aria-label="Search"
            />
          </form>
          <div class="text-end">
            <a class="btn btn-outline-light me-2" href="../HTML/login.html">Entrar</a>
            <a class="btn btn-warning" href="../HTML/cadastro.html">Criar conta</a>
          </div>
        </div>
      </div>
    </nav>
    <!-- Fim Barra De Navegação Desktop -->

    <!-- Barra De Navegação Mobile -->
    <nav class="d-block d-md-none navbar navbar-dark bg-azulPrimario fixed-top">
      <div class="container-fluid">
        <a
          href="index.html"
          class="d-flex align-items-center mb-2 mb-lg-0 text-white text-decoration-none"
        >
          <img
            src="../IMG/logo_descubra_short.png"
            alt="Logo Descubra Muriaé"
            width="40"
            height="40"
            class="g-3"
          />
        </a>
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="offcanvas"
          data-bs-target="#offcanvasDarkNavbar"
          aria-controls="offcanvasDarkNavbar"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div
          class="offcanvas offcanvas-end bg-azulPrimario text-light"
          tabindex="-1"
          id="offcanvasDarkNavbar"
          aria-labelledby="offcanvasDarkNavbarLabel"
        >
          <div class="offcanvas-header">
            <h5 class="offcanvas-title" id="offcanvasDarkNavbarLabel">Dark offcanvas</h5>
            <button
              type="button"
              class="btn-close btn-close-white"
              data-bs-dismiss="offcanvas"
              aria-label="Close"
            ></button>
          </div>
          <div class="offcanvas-body bg-azulPrimario">
            <ul class="navbar-nav justify-content-end flex-grow-1 pe-3">
              <li class="nav-item d-none">
                <a class="nav-link active" aria-current="page" href="#">Home</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="sobre_nos.html">Sobre Nós</a>
              </li>
              <li class="nav-item dropdown">
                <a
                  class="nav-link dropdown-toggle"
                  href="#"
                  role="button"
                  data-bs-toggle="dropdown"
                  aria-expanded="false"
                >
                  Dropdown
                </a>
                <ul class="dropdown-menu dropdown-menu-dark">
                  <li><a class="dropdown-item" href="#">Action</a></li>
                  <li><a class="dropdown-item" href="#">Another action</a></li>
                  <li>
                    <hr class="dropdown-divider" />
                  </li>
                  <li><a class="dropdown-item" href="#">Something else here</a></li>
                </ul>
              </li>
            </ul>
            <form class="d-flex mt-3" role="search">
              <input
                class="form-control me-2"
                type="search"
                placeholder="Search"
                aria-label="Search"
              />
              <button class="btn btn-warning" type="submit">Search</button>
            </form>
          </div>
        </div>
      </div>
    </nav>
</header>


  <body>
    <main class="container-fluid py-4">
      <!-- Filtros -->
      <section class="mb-3">
        <div class="card shadow-sm">
          <div class="card-body">
            <div class="row g-2 align-items-end">
              <div class="col-12 col-md-3 col-lg-2">
                <label class="form-label">Status</label>
                <select class="form-select" id="filtroStatus">
                  <option value="">Todos</option>
                  <option value="Aberta">Aberta</option>
                  <option value="Pausada">Pausada</option>
                  <option value="Fechada">Fechada</option>
                </select>
              </div>
              <div class="col-12 col-md-3 col-lg-2">
                <label class="form-label">Categoria</label>
                <select class="form-select" id="filtroCategoria">
                  <option value="">Todas</option>
                  <option value="tecnologia">Tecnologia</option>
                  <option value="comercio">Comércio</option>
                  <option value="servicos">Serviços</option>
                  <option value="industria">Indústria</option>
                  <option value="construcao">Construção</option>
                  <option value="saude">Saúde</option>
                  <option value="educacao">Educação</option>
                  <option value="agronegocio">Agronegócio</option>
                  <option value="administracao">Administração</option>
                  <option value="engenharia">Engenharia</option>
                </select>
              </div>
              <div class="col-12 col-md-4 col-lg-3">
                <label class="form-label">Pesquisar</label>
                <input
                  type="search"
                  class="form-control"
                  id="pesquisa"
                  placeholder="Busque por título, descrição..."
                />
              </div>
              <div class="col-12 col-lg-5 d-grid d-md-flex justify-content-md-end gap-2">
                <button id="btnLimparFiltros" class="btn btn-outline-secondary mt-3 mt-lg-0">
                  <i class="bi bi-x-circle me-1"></i> Limpar filtros
                </button>
                <button class="btn btn-primary mt-3 mt-lg-0" data-bs-toggle="modal" data-bs-target="#modalNovaVaga">
                  <i class="bi bi-plus-circle me-1"></i> Nova Vaga
                </button>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- KPIs -->
      <section class="mb-4">
        <div class="row g-3">
          <div class="col-12 col-md-6 col-xl-3">
            <div
              class="card kpi kpi-abertas shadow-sm"
              role="button"
              data-kpi="Aberta"
              tabindex="0"
            >
              <div class="card-body d-flex align-items-center justify-content-between">
                <div>
                  <h6 class="text-uppercase small mb-1">Vagas Abertas</h6>
                  <h3 class="mb-0" id="kpiAbertas">0</h3>
                </div>
                <i class="bi bi-briefcase fs-1"></i>
              </div>
            </div>
          </div>
          <div class="col-12 col-md-6 col-xl-3">
            <div
              class="card kpi kpi-pausadas shadow-sm"
              role="button"
              data-kpi="Pausada"
              tabindex="0"
            >
              <div class="card-body d-flex align-items-center justify-content-between">
                <div>
                  <h6 class="text-uppercase small mb-1">Pausadas</h6>
                  <h3 class="mb-0" id="kpiPausadas">0</h3>
                </div>
                <i class="bi bi-pause-circle fs-1"></i>
              </div>
            </div>
          </div>
          <div class="col-12 col-md-6 col-xl-3">
            <div
              class="card kpi kpi-fechadas shadow-sm"
              role="button"
              data-kpi="Fechada"
              tabindex="0"
            >
              <div class="card-body d-flex align-items-center justify-content-between">
                <div>
                  <h6 class="text-uppercase small mb-1">Fechadas</h6>
                  <h3 class="mb-0" id="kpiFechadas">0</h3>
                </div>
                <i class="bi bi-check-circle fs-1"></i>
              </div>
            </div>
          </div>
          <div class="col-12 col-md-6 col-xl-3">
            <div class="card kpi kpi-todos shadow-sm" role="button" data-kpi="Todos" tabindex="0">
              <div class="card-body d-flex align-items-center justify-content-between">
                <div>
                  <h6 class="text-uppercase small mb-1">Total</h6>
                  <h3 class="mb-0" id="kpiTodos">0</h3>
                </div>
                <i class="bi bi-list-check fs-1"></i>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Tabela de Vagas -->
      <section>
        <div class="card shadow-sm">
          <div class="card-header d-flex align-items-center justify-content-between">
            <h5 class="mb-0">Minhas Vagas</h5>
            <div class="small text-muted">Clique nas colunas para ordenar</div>
          </div>
          <div class="table-responsive">
            <table class="table align-middle mb-0" id="tabelaVagas">
              <thead>
                <tr>
                  <th data-sort="titulo">Vaga <i class="bi bi-arrow-down-up ms-1"></i></th>
                  <th data-sort="categoria">Categoria</th>
                  <th data-sort="candidatos">Candidatos</th>
                  <th data-sort="dataPublicacao">Data Publicação</th>
                  <th data-sort="dataLimite">Data Limite</th>
                  <th>Status</th>
                  <th>Ações</th>
                </tr>
              </thead>
              <tbody id="tbodyVagas"></tbody>
            </table>
          </div>
        </div>
      </section>
    </main>

    <!-- Modal Nova Vaga -->
    <div class="modal fade" id="modalNovaVaga" tabindex="-1" aria-hidden="true">
      <div class="modal-dialog modal-xl modal-dialog-scrollable">
        <div class="modal-content">
          <form id="formVaga">
            <div class="modal-header bg-primary text-white">
              <div class="d-flex align-items-center">
                <i class="bi bi-briefcase me-2"></i>
                <div>
                  <h5 class="modal-title mb-0">Nova Vaga</h5>
                  <small class="opacity-75">Preencha os dados da vaga</small>
                </div>
              </div>
              <button
                type="button"
                class="btn-close btn-close-white"
                data-bs-dismiss="modal"
              ></button>
            </div>
            <div class="modal-body p-4">
              <div class="row g-3">
                <div class="col-md-8">
                  <label class="form-label">Título da Vaga *</label>
                  <input type="text" class="form-control" name="titulo" required />
                </div>
                <div class="col-md-4">
                  <label class="form-label">Categoria *</label>
                  <select class="form-select" name="categoria" required>
                    <option value="">Selecione</option>
                    <option value="tecnologia">Tecnologia</option>
                    <option value="comercio">Comércio</option>
                    <option value="servicos">Serviços</option>
                    <option value="industria">Indústria</option>
                    <option value="construcao">Construção</option>
                    <option value="saude">Saúde</option>
                    <option value="educacao">Educação</option>
                    <option value="agronegocio">Agronegócio</option>
                    <option value="administracao">Administração</option>
                    <option value="engenharia">Engenharia</option>
                  </select>
                </div>
                <div class="col-md-6">
                  <label class="form-label">Salário</label>
                  <input
                    type="text"
                    class="form-control"
                    name="salario"
                    placeholder="R$ 2.000,00"
                  />
                </div>
                <div class="col-md-6">
                  <label class="form-label">Tipo de Contrato</label>
                  <select class="form-select" name="tipoContrato">
                    <option value="CLT">CLT</option>
                    <option value="PJ">Pessoa Jurídica</option>
                    <option value="Estágio">Estágio</option>
                    <option value="Freelancer">Freelancer</option>
                  </select>
                </div>
                <div class="col-md-6">
                  <label class="form-label">Data Limite *</label>
                  <input type="date" class="form-control" name="dataLimite" required />
                </div>
                <div class="col-md-6">
                  <label class="form-label">Status</label>
                  <select class="form-select" name="status">
                    <option value="Aberta">Aberta</option>
                    <option value="Pausada">Pausada</option>
                    <option value="Fechada">Fechada</option>
                  </select>
                </div>
                <div class="col-12">
                  <label class="form-label">Descrição da Vaga *</label>
                  <textarea
                    class="form-control"
                    name="descricao"
                    rows="4"
                    required
                    placeholder="Descreva as responsabilidades, requisitos e benefícios da vaga..."
                  ></textarea>
                </div>
                <div class="col-12">
                  <label class="form-label">Requisitos</label>
                  <textarea
                    class="form-control"
                    name="requisitos"
                    rows="3"
                    placeholder="Liste os requisitos necessários para a vaga..."
                  ></textarea>
                </div>
                <div class="col-12">
                  <label class="form-label">Benefícios</label>
                  <textarea
                    class="form-control"
                    name="beneficios"
                    rows="2"
                    placeholder="Liste os benefícios oferecidos..."
                  ></textarea>
                </div>
              </div>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-outline-secondary" data-bs-dismiss="modal">
                Cancelar
              </button>
              <button type="submit" class="btn btn-primary">Publicar Vaga</button>
            </div>
          </form>
        </div>
      </div>
    </div>

    <!-- Modal Editar Vaga -->
    <div class="modal fade" id="modalEditarVaga" tabindex="-1" aria-hidden="true">
      <div class="modal-dialog modal-xl modal-dialog-scrollable">
        <div class="modal-content">
          <form id="formEditarVaga">
            <div class="modal-header bg-primary text-white">
              <div class="d-flex align-items-center">
                <i class="bi bi-pencil-square me-2"></i>
                <div>
                  <h5 class="modal-title mb-0">Editar Vaga</h5>
                  <small class="opacity-75">Modifique os dados da vaga</small>
                </div>
              </div>
              <button
                type="button"
                class="btn-close btn-close-white"
                data-bs-dismiss="modal"
              ></button>
            </div>
            <div class="modal-body p-4">
              <input type="hidden" name="id" />
              <div class="row g-3">
                <div class="col-md-8">
                  <label class="form-label">Título da Vaga *</label>
                  <input type="text" class="form-control" name="titulo" required />
                </div>
                <div class="col-md-4">
                  <label class="form-label">Categoria *</label>
                  <select class="form-select" name="categoria" required>
                    <option value="">Selecione</option>
                    <option value="tecnologia">Tecnologia</option>
                    <option value="comercio">Comércio</option>
                    <option value="servicos">Serviços</option>
                    <option value="industria">Indústria</option>
                    <option value="construcao">Construção</option>
                    <option value="saude">Saúde</option>
                    <option value="educacao">Educação</option>
                    <option value="agronegocio">Agronegócio</option>
                    <option value="administracao">Administração</option>
                    <option value="engenharia">Engenharia</option>
                  </select>
                </div>
                <div class="col-md-6">
                  <label class="form-label">Salário</label>
                  <input type="text" class="form-control" name="salario" />
                </div>
                <div class="col-md-6">
                  <label class="form-label">Tipo de Contrato</label>
                  <select class="form-select" name="tipoContrato">
                    <option value="CLT">CLT</option>
                    <option value="PJ">Pessoa Jurídica</option>
                    <option value="Estágio">Estágio</option>
                    <option value="Freelancer">Freelancer</option>
                  </select>
                </div>
                <div class="col-md-6">
                  <label class="form-label">Data Limite *</label>
                  <input type="date" class="form-control" name="dataLimite" required />
                </div>
                <div class="col-md-6">
                  <label class="form-label">Status</label>
                  <select class="form-select" name="status">
                    <option value="Aberta">Aberta</option>
                    <option value="Pausada">Pausada</option>
                    <option value="Fechada">Fechada</option>
                  </select>
                </div>
                <div class="col-12">
                  <label class="form-label">Descrição da Vaga *</label>
                  <textarea class="form-control" name="descricao" rows="4" required></textarea>
                </div>
                <div class="col-12">
                  <label class="form-label">Requisitos</label>
                  <textarea class="form-control" name="requisitos" rows="3"></textarea>
                </div>
                <div class="col-12">
                  <label class="form-label">Benefícios</label>
                  <textarea class="form-control" name="beneficios" rows="2"></textarea>
                </div>
              </div>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-outline-secondary" data-bs-dismiss="modal">
                Cancelar
              </button>
              <button type="submit" class="btn btn-primary">Salvar Alterações</button>
            </div>
          </form>
        </div>
      </div>
    </div>

    <!-- Modal Ver Candidatos -->
    <div class="modal fade" id="modalCandidatos" tabindex="-1" aria-hidden="true">
      <div class="modal-dialog modal-xl modal-dialog-scrollable">
        <div class="modal-content">
          <div class="modal-header bg-success text-white">
            <div class="d-flex align-items-center">
              <i class="bi bi-people me-2"></i>
              <div>
                <h5 class="modal-title mb-0">Candidatos</h5>
                <small class="opacity-75" id="candidatosInfo">Vaga: </small>
              </div>
            </div>
            <button
              type="button"
              class="btn-close btn-close-white"
              data-bs-dismiss="modal"
            ></button>
          </div>
          <div class="modal-body p-4">
            <div id="listaCandidatos">
              <!-- Candidatos serão carregados aqui -->
            </div>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-outline-secondary" data-bs-dismiss="modal">
              Fechar
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- Modal Ver Currículo -->
    <div class="modal fade" id="modalCurriculo" tabindex="-1" aria-hidden="true">
      <div class="modal-dialog modal-xl modal-dialog-scrollable">
        <div class="modal-content">
          <div class="modal-header bg-info text-white">
            <div class="d-flex align-items-center">
              <i class="bi bi-file-person me-2"></i>
              <div>
                <h5 class="modal-title mb-0">Currículo</h5>
                <small class="opacity-75" id="curriculoInfo">Candidato: </small>
              </div>
            </div>
            <button
              type="button"
              class="btn-close btn-close-white"
              data-bs-dismiss="modal"
            ></button>
          </div>
          <div class="modal-body p-4">
            <div id="detalhesCurriculo">
              <!-- Detalhes do currículo serão carregados aqui -->
            </div>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-outline-secondary" data-bs-dismiss="modal">
              Fechar
            </button>
            <button type="button" class="btn btn-success" id="btnAprovarCandidato">
              <i class="bi bi-check-circle me-1"></i> Aprovar
            </button>
            <button type="button" class="btn btn-danger" id="btnReprovarCandidato">
              <i class="bi bi-x-circle me-1"></i> Reprovar
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- Toast de notificação -->
    <div class="position-fixed bottom-0 end-0 p-3" style="z-index: 1080">
      <div
        id="toastOk"
        class="toast align-items-center text-bg-success border-0"
        role="alert"
        aria-live="assertive"
        aria-atomic="true"
      >
        <div class="d-flex">
          <div class="toast-body">Operação realizada com sucesso.</div>
          <button
            type="button"
            class="btn-close btn-close-white me-2 m-auto"
            data-bs-dismiss="toast"
          ></button>
        </div>
      </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script type="module" src="../JS/gestao_vagas_empresa.js"></script>
  </body>
</html>
